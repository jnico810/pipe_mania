{"version":3,"sources":["webpack:///webpack/bootstrap ef2a910442f8f02e4491","webpack:///./lib/game.js","webpack:///./lib/space.js"],"names":["console","log","Game","spaces","options","canvas","document","getElementById","ctx","getContext","t","points","times","grid","i","row","j","push","type","exit","pos","x","y","currentSludgeSpace","animateSludge","generateSpaces","generateSideTiles","space","handleClick","bind","createCanvas","forEach","option","id","setInterval","frame","clearInterval","str","style","sub","parseInt","top","substring","length","e","preventDefault","fillStyle","fillRect","width","height","getAttribute","col","newOption","generateRandomPipe","unshift","sideTiles","insertBefore","childNodes","drawPipe","posInGrid","possible","exits","parentElement","removeChild","pop","handleClickMove","includes","left","requestAnimationFrame","checkNextSpace","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","shift","game","start","DEFAULTS","INSIDE_COLOR","BORDER_COLOR","SIZE","Space","coord","rowCol","parent","klass","createElement","setAttribute","addEventListener","appendChild","closePath","rect","fill","bottom","right","arc","Math","PI","rand","floor","random"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ef2a910442f8f02e4491\n **/","console.log('loaded');\nimport Space from './space.js';\n\nclass Game {\n  constructor(){\n    this.spaces = [];\n    this.options = [];\n\n    this.canvas = document.getElementById(\"sludge\");\n\n    this.ctx = this.canvas.getContext('2d');\n    this.t = 1;\n    this.points = [];\n    this.times = 1;\n\n\n    this.grid = [];\n\n    for (let i = 0; i < 7; i++){\n      let row = [];\n      for (let j = 0; j < 10; j++){\n        row.push({});\n      }\n      this.grid.push(row);\n    }\n    this.grid[3][0] = {type:'start', exit: \"right\", pos:{x:3, y:0}};\n    this.currentSludgeSpace = this.grid[3][0];\n    for (let i = 0; i < 61; i++){\n      this.points.push({x:i,y:213});\n    }\n\n    console.log(this.grid);\n    this.animateSludge();\n  }\n\n  start(){\n    this.generateSpaces();\n    this.generateSideTiles();\n  }\n\n  generateSpaces(){\n    for (let i = 0; i < 7; i++ ){\n      const spaces = document.getElementById(\"spaces\");\n      let space;\n      for (let j = 0; j < 10; j++ ){\n        if (i === 3 && j === 0){\n          space = new Space([0,0], [i,j], spaces, \"start\", this.handleClick.bind(this));\n        }else {\n          space = new Space([0,0], [i,j], spaces, \"tile\", this.handleClick.bind(this));\n        }\n        space.createCanvas();\n        this.spaces.push(space);\n      }\n    }\n  }\n\n  handleClickMove(){\n    this.options.forEach((option) => {\n      var pos = 0;\n      var id = setInterval(frame, 1);\n      function frame() {\n        if (pos === 61) {\n            clearInterval(id);\n        } else {\n            pos++;\n            const str = option.canvas.style;\n            const sub = parseInt(str.top.substring(0,str.top.length - 2));\n            option.canvas.style.top = sub + 1;\n        }\n      }\n    });\n  }\n\n  handleClick(space, e){\n    e.preventDefault();\n    space.ctx.fillStyle = \"#f4f4f4\";\n    space.ctx.fillRect(0, 0, space.canvas.width, space.canvas.height);\n\n    let row = space.canvas.getAttribute('row');\n    const col = space.canvas.getAttribute('col');\n\n    const option = this.options[this.options.length - 1].canvas;\n    const type = parseInt(option.getAttribute('type'));\n\n    const newOption = new Space([0,0],[row,col], null, \"option\");\n    newOption.createCanvas();\n    newOption.generateRandomPipe();\n    newOption.canvas.style.top = -61;\n    this.options.unshift(newOption);\n\n    const sideTiles = document.getElementById(\"side-tiles\");\n    sideTiles.insertBefore(newOption.canvas, sideTiles.childNodes[0]);\n\n    space.drawPipe(type);\n\n\n    const posInGrid = this.grid[row][col];\n    posInGrid.pos = {x:row, y:col};\n    posInGrid.possible = space.possible;\n    posInGrid.exit = space.exits;\n    console.log(posInGrid);\n\n    option.parentElement.removeChild(option);\n    this.options.pop();\n    this.handleClickMove();\n  }\n\n  generateSideTiles(){\n    for (let i = 1; i < 6 ; i++ ){\n      const spaces = document.getElementById(\"side-tiles\");\n      let option = new Space([0,0], `${i}choice`, spaces, \"option\");\n      option.createCanvas();\n      option.generateRandomPipe();\n      option.canvas.style.top = 61 * (i - 1);\n      this.options.push(option);\n    }\n  }\n  checkNextSpace(){\n    const y = parseInt(this.currentSludgeSpace.pos.y);\n    const x =  parseInt(this.currentSludgeSpace.pos.x);\n    switch (this.currentSludgeSpace.exit){\n      case 'right':\n      // debugger\n        if (this.grid[x][y + 1].possible.includes('left')){\n          for (let i = 0; i < 60; i++){\n            this.points.push({x:i + this.times * 61,y:213});\n          }\n          this.times ++;\n          // debugger\n          this.currentSludgeSpace = this.grid[x][y+1];\n          // debugger\n          this.currentSludgeSpace['exit'] =  this.grid[x][y+1].exit.left;\n          this.animateSludge();\n        }\n        return;\n      default:\n        return;\n    }\n  }\n\n  animateSludge(){\n\n    if(this.points.length > 1)\n    { requestAnimationFrame(this.animateSludge.bind(this));\n    } else{\n      this.checkNextSpace();\n    }\n    let points = this.points;\n    // draw a line segment from the last waypoint\n    // to the current waypoint\n    this.ctx.beginPath();\n    this.ctx.lineWidth = 20;\n    this.ctx.strokeStyle = 'green';\n    this.ctx.moveTo(points[0].x,points[0].y);\n    this.ctx.lineTo(points[1].x,points[1].y);\n    this.ctx.stroke();\n    this.points.shift();\n    // increment \"t\" to get the next waypoint\n    this.t++;\n}\n\n\n\n// calc waypoints traveling along vertices\n  // calcWaypoints(vertices){\n  //   const waypoints = [];\n  //   for(let i = 1; i < vertices.length; i++){\n  //       const pt0 = vertices[i-1];\n  //       const pt1 = vertices[i];\n  //       const dx = pt1.x - pt0.x;\n  //       const dy = pt1.y - pt0.y;\n  //       for(let j = 0; j < 100; j++){\n  //           const x= pt0.x + dx * j / 100;\n  //           const y= pt0.y + dy * j / 100;\n  //           waypoints.push({x: x,y: y});\n  //       }\n  //   }\n  //   return(waypoints);\n  // }\n}\n\nconst game =new Game();\ngame.start();\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/game.js\n **/","\nconst DEFAULTS = {\n  type: \"0\"\n};\n\nconst INSIDE_COLOR = \"#8ed2f9\"\nconst BORDER_COLOR = \"#6e9cb7\"\nconst SIZE = 60;\n\nclass Space {\n\n  constructor(coord, rowCol, parent, klass, handleClick){\n    this.x = coord[0];\n    this.y = coord[1];\n    this.rowCol = rowCol;\n    this.parent = parent;\n    this.klass = klass;\n    this.canvas = null;\n    this.handleClick = handleClick;\n    this.possible = [];\n    this.exits= {};\n  }\n\n  addNewOption(){\n\n  }\n\n  createCanvas(){\n    const canvas = document.createElement(\"canvas\");\n\n    canvas.setAttribute(\"width\", \"60px\");\n    canvas.setAttribute(\"height\", \"60px\");\n    canvas.setAttribute(\"class\", this.klass);\n    canvas.setAttribute(\"row\", `${this.rowCol[0]}`);\n    canvas.setAttribute(\"col\", `${this.rowCol[1]}`);\n\n    this.canvas = canvas;\n    this.ctx = canvas.getContext('2d');\n\n    if (this.klass === \"tile\"){\n      canvas.addEventListener('click', this.handleClick.bind(null, this));\n    } else if (this.klass === \"start\"){\n      this.drawPipe(2);\n    }\n\n    if (this.parent){\n      this.parent.appendChild(canvas);\n    }\n  }\n  drawPipe(type){\n    // this.canvas.setAttribute(\"class\", \"space\");\n    // this.klass = \"space\";\n    switch (type){\n      case 0:\n        return;\n      case 1:\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = BORDER_COLOR;\n        this.ctx.lineWidth = 5;\n        this.ctx.moveTo(18,0);\n        this.ctx.lineTo(18,60);\n        this.ctx.moveTo(41,0);\n        this.ctx.lineTo(41,60);\n        this.ctx.stroke();\n\n        this.ctx.closePath();\n        this.ctx.beginPath();\n        this.ctx.rect(20,0, 18, 60);\n        this.ctx.fillStyle = INSIDE_COLOR;\n        this.ctx.fill();\n        this.ctx.closePath();\n        this.possible = [\"top\", \"bottom\"];\n        this.exits = {top:\"bottom\", bottom:\"top\"};\n        return;\n      case 2:\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = BORDER_COLOR;\n        this.ctx.lineWidth = 5;\n        this.ctx.moveTo(0,18);\n        this.ctx.lineTo(60,18);\n        this.ctx.moveTo(0,41);\n        this.ctx.lineTo(60,41);\n        this.ctx.stroke();\n        this.ctx.closePath();\n\n        this.ctx.beginPath();\n        this.ctx.rect(0,20, 60, 18);\n        this.ctx.fillStyle = INSIDE_COLOR;\n        this.ctx.fill();\n        this.ctx.closePath();\n        this.possible = [\"left\", \"right\"];\n        this.exits = {left:\"right\", right:\"left\"};\n        return;\n      case 3:\n\n        this.ctx.strokeStyle = INSIDE_COLOR;\n        this.ctx.beginPath();\n        this.ctx.arc(0, 0, 30, 0, 0.5 * Math.PI, false);\n        this.ctx.lineWidth = 20;\n        this.ctx.stroke();\n\n        this.ctx.strokeStyle = BORDER_COLOR;\n\n        this.ctx.beginPath();\n        this.ctx.arc(0, 0, 18, 0, 0.5 * Math.PI, false);\n        this.ctx.lineWidth = 5;\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.arc(0, 0, 41, 0, 0.5 * Math.PI, false);\n        this.ctx.lineWidth = 5;\n        this.ctx.stroke();\n        this.possible = [\"left\", \"top\"];\n        this.exits = {left:\"top\", top:\"left\"};\n        return;\n\n      case 4:\n        this.ctx.strokeStyle = INSIDE_COLOR;\n        this.ctx.beginPath();\n        this.ctx.arc(60, 0, 30, 0, 0.5 * Math.PI, true);\n        this.ctx.lineWidth = 20;\n        this.ctx.stroke();\n\n        this.ctx.strokeStyle = BORDER_COLOR;\n\n        this.ctx.beginPath();\n        this.ctx.arc(60, 0, 18, 0, 0.5 * Math.PI, true);\n        this.ctx.lineWidth = 5;\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.arc(60, 0, 41, 0, 0.5 * Math.PI, true);\n        this.ctx.lineWidth = 5;\n        this.ctx.stroke();\n        this.possible = [\"right\", \"top\"];\n        this.exits = {right:\"top\", top:\"right\"};\n        return;\n      case 5:\n        this.ctx.strokeStyle = INSIDE_COLOR;\n        this.ctx.beginPath();\n        this.ctx.arc(0, 60, 30, 0, 0.5 * Math.PI, true);\n        this.ctx.lineWidth = 20;\n        this.ctx.stroke();\n\n        this.ctx.strokeStyle = BORDER_COLOR;\n\n        this.ctx.beginPath();\n        this.ctx.arc(0, 60, 18, 0, 0.5 * Math.PI, true);\n        this.ctx.lineWidth = 5;\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.arc(0, 60, 41, 0, 0.5 * Math.PI, true);\n        this.ctx.lineWidth = 5;\n        this.ctx.stroke();\n        this.possible = [\"left\", \"bottom\"];\n        this.exits = {left:\"bottom\", bottom:\"left\"};\n        return;\n      case 6:\n        this.ctx.strokeStyle = INSIDE_COLOR;\n        this.ctx.beginPath();\n        this.ctx.arc(60, 60, 30, 0, 0.5 * Math.PI, true);\n        this.ctx.lineWidth = 20;\n        this.ctx.stroke();\n\n        this.ctx.strokeStyle = BORDER_COLOR;\n\n        this.ctx.beginPath();\n        this.ctx.arc(60, 60, 18, 0, 0.5 * Math.PI, true);\n        this.ctx.lineWidth = 5;\n        this.ctx.stroke();\n\n        this.ctx.beginPath();\n        this.ctx.arc(60, 60, 41, 0, 0.5 * Math.PI, true);\n        this.ctx.lineWidth = 5;\n        this.ctx.stroke();\n        this.possible = [\"right\", \"bottom\"];\n        this.exits = {right:\"bottom\", bottom:\"right\"};\n        return;\n      case 7:\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = BORDER_COLOR;\n        this.ctx.lineWidth = 5;\n\n        this.ctx.moveTo(0,18);\n        this.ctx.lineTo(60,18);\n        this.ctx.moveTo(0,41);\n        this.ctx.lineTo(60,41);\n        this.ctx.stroke();\n        this.ctx.closePath();\n\n\n\n        this.ctx.beginPath();\n        this.ctx.strokeStyle = BORDER_COLOR;\n        this.ctx.lineWidth = 5;\n        this.ctx.moveTo(18,0);\n        this.ctx.lineTo(18,60);\n        this.ctx.moveTo(41,0);\n        this.ctx.lineTo(41,60);\n        this.ctx.stroke();\n\n        this.ctx.closePath();\n        this.ctx.beginPath();\n        this.ctx.rect(20,0, 18, 60);\n        this.ctx.fillStyle = INSIDE_COLOR;\n        this.ctx.fill();\n        this.ctx.closePath();\n\n        this.ctx.beginPath();\n        this.ctx.rect(0,20, 60, 18);\n        this.ctx.fillStyle = INSIDE_COLOR;\n        this.ctx.fill();\n        this.ctx.closePath();\n        this.possible = [\"left\", \"top\",\"right\", \"bottom\"];\n        this.exits = {left:\"right\", right:\"left\", top: \"bottom\", bottom: \"top\"};\n    }\n  }\n\n  generateRandomPipe(){\n    let rand = Math.floor((Math.random() * 7) + 1);\n    rand = 2;\n    this.canvas.setAttribute(\"type\", rand);\n    // console.log(rand);\n    this.drawPipe(rand);\n  }\n}\n\nexport default Space;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/space.js\n **/"],"sourceRoot":""}